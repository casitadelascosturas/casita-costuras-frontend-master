
    <div class="w-full text-lg dark:border-slate-700 mb-4 pb-2 border-t pt-2">
      <p class="text-gray-400 dark:text-slate-500 text-base">Información de cliente</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <app-toggle
            [form]="form"
            name="newClient"
            label="¿Nuevo cliente?"
            [load]="load"
            (changes)="changeNewClient($event)">
        </app-toggle>

        @if(form.get('newClient').value !== true){
            <app-input-autocomplete
                [form]="form"
                [load]="load"
                name="client"
                icon="person_search"
                label="Nombre de cliente"
                service="clients/byname"
                (changes)="changeClient($event)"
                placeholder="Ingresa nombre de cliente">
            </app-input-autocomplete>

            <app-input
                [form]="form"
                name="telephone"
                icon="add_call"
                label="Contacto"
                placeholder="Selecciona cliente para visualizar contacto"
                helpMessage="Solo se aceptan caracteres numericos."
                errorMessage="Error message."
                [minlength]="8"
                [maxlength]="10"
                [counter]="true"
                [load]="load">
            </app-input>
        }@else{
            
            <app-input
                [form]="formNewClient"
                name="name"
                icon="ink_pen"
                label="Nombre"
                placeholder="Ingresa nombre de cliente"
                helpMessage="Solo se aceptan caracteres alfanumericos."
                errorMessage="Error message."
                [minlength]="1"
                [maxlength]="80"
                [counter]="true"
                [load]="load">
            </app-input>

            <app-input
                [form]="formNewClient"
                name="email"
                icon="mail"
                label="Correo electrónico"
                placeholder="Ingresa correo electrónico"
                helpMessage="Solo se aceptan caracteres numericos."
                errorMessage="Error message."
                [minlength]="5"
                [maxlength]="80"
                [counter]="true"
                [load]="load">
            </app-input>

            <app-input
                [form]="formNewClient"
                name="telephone"
                icon="add_call"
                label="Contacto"
                placeholder="Ingresa contacto"
                helpMessage="Solo se aceptan caracteres numericos."
                errorMessage="Error message."
                [minlength]="8"
                [maxlength]="10"
                [counter]="true"
                [load]="load">
            </app-input>

            <app-input
                [form]="formNewClient"
                name="location"
                icon="pin_drop"
                label="Ubicación"
                placeholder="Ingresa ubicación"
                helpMessage="Solo se aceptan caracteres alfanumericos."
                errorMessage="Error message."
                [minlength]="1"
                [maxlength]="80"
                [counter]="true"
                [load]="load">
            </app-input>

            <app-toggle
                [form]="formNewClient"
                name="whatsapp"
                label="Whatsapp"
                [load]="load">
            </app-toggle>
        }
    </div>

    <div class="w-full text-lg dark:border-slate-700 mb-4 pb-2 border-t pt-2">
        <p class="text-gray-400 dark:text-slate-500 text-base">Información General</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">        
  
        <app-date-picker
          [form]="form"
          [load]="load"
          [minDate]="today"
          [maxDate]="null"
          name="deliver_date"
          placeholder="Fecha Entrega"
          (changes)="onDeliverDateChange($event)">
        </app-date-picker>
      
        <div>
          <ng-template #cancelBtn>
            <button class="btn-alert-danger text-white px-4 py-2 rounded-md flex items-center space-x-2 mr-2">Cancelar</button>
          </ng-template>
          
          <ng-template #confirmBtn>
            <button class="btn-primary text-white px-4 py-2 rounded-md flex items-center space-x-2 ml-2">Aceptar</button>
          </ng-template>
      
          <div class="relative">
            <input readonly placeholder="Hora de entrega" 
            [ngxTimepicker]="picker"
            [formControl]="getFormControl('deliver_hour')"
            class="text-gray-600 bg-gray-200 py-2 px-10 w-full border-none
            focus:border-gray-400 focus:outline-none focus:border
            dark:border-slate-800 dark:bg-slate-950 dark:focus:border-slate-700 dark:text-white
            disabled:opacity-50 disabled:cursor-not-allowed rounded-2xl">
      
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <span class="top-1/4">
                    <mat-icon class="material-symbols-outlined text-slate-500 dark:text-slate-400 font-normal" aria-hidden="false" aria-label="Example home icon" fontIcon="schedule"></mat-icon>
                </span>
            </div>
      
            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
              <span class="top-1/4">
                @if(form.get('deliver_hour').valid) {
                  <mat-icon class="material-symbols-outlined text-green-500 absolute right-2 top-2">check_circle</mat-icon>
                }
                @if(form.get('deliver_hour').invalid) {
                  <mat-icon class="material-symbols-outlined text-red-500 absolute right-2 top-2">cancel</mat-icon>
                }
              </span>
            </div>
          </div>
      
          <ngx-material-timepicker #picker 
            [theme]="themeDark ? darkTheme : lightTheme"
            [cancelBtnTmpl]="cancelBtn" 
            [confirmBtnTmpl]="confirmBtn"
            [defaultTime]="'04:00 PM'"
            [minutesGap]="5"
            (timeChanged)="onDeliverHourChange($event)">
          </ngx-material-timepicker>
      
        </div>
      
        <app-input
            [form]="form"
            name="advance_payment"
            icon="price_change"
            label="Abono en efectivo"
            placeholder="Ingresa abono"
            helpMessage="Solo se aceptan caracteres numericos."
            errorMessage="Error message."
            [minlength]="1"
            [maxlength]="15"
            [counter]="true"
            [load]="load">
        </app-input>

        <app-input
            class="col-span-1 md:col-span-2"
            [form]="form"
            name="description"
            icon="edit_note"
            label="Descripción"
            placeholder="Ingresa una descripción"
            helpMessage="Solo se aceptan caracteres alfanumericos."
            errorMessage="Error message."
            [minlength]="1"
            [maxlength]="200"
            [counter]="true"
            [load]="load">
        </app-input>
      
      </div>
      

