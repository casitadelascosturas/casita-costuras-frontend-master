<div class="relative ml-3 z-20">
  <button
    (click)="toggleMenu()"
    class="relative flex rounded-full bg-white dark:bg-slate-900 text-sm"
    type="button"
    aria-expanded="false"
    aria-haspopup="true">
    <img
      clickOutside
      (clickOutside)="isMenuOpen = false"
      class="w-10 rounded-md"
      src="assets/images/profile.png"
      alt="" />

  </button>

  <div
    [ngClass]="isMenuOpen ? 'pointer-events-auto scale-100 animate-fade-in-up opacity-100 duration-200' :
                            'pointer-events-none scale-95 opacity-0 duration-100 ease-in'"
    class="absolute right-0 mt-2 w-60 origin-top-right transform rounded-md bg-white py-4 shadow-custom ring-1 ring-transparent ring-opacity-5 transition focus:outline-none dark:bg-slate-900 border dark:border-slate-800">
    <div class="flext-row flex items-center px-4 pb-4">
      <div class="w-10 shrink-0">
        <img class="rounded-md" src="assets/images/profile.png" alt="profile.png" />
      </div>
      <div class="overflow-hidden px-2 text-sm font-semibold text-gray-700 dark:text-slate-50">
        {{ user.role.name }} <br>
        {{ user.sub }}
        <p class="truncate text-ellipsis text-xs font-semibold text-gray-400 dark:text-slate-300">{{ user.email }}</p>
      </div>
    </div>

    <div class="border-b border-dashed border-gray-200 dark:border-slate-500"></div>

    <ul class="my-2 mx-4">
        <li (click)="endDay()" class="flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold text-emerald-500 hover:bg-gray-100 hover:text-emerald-600 dark:text-emerald-500 dark:hover:bg-slate-950 dark:hover:text-primary-500">
          <mat-icon class="material-symbols-outlined mt-0 mb-1"  [ngClass]="{'text-emerald-500': !themeService.isDark}">settings</mat-icon>
          <p class="ml-1">
             Ajustes
          </p>
        </li>

      <li (click)="toggleTheme()" class="flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-primary-500 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:text-primary-500">
        <ng-icon name="{{ themeService.isDark ? 'matLightModeRound' : 'matDarkModeRound' }}" class="text-xl" [ngClass]="{'text-yellow-500': themeService.isDark, 'text-slate-500': !themeService.isDark}"></ng-icon>
        <p class="ml-1">{{ themeService.isDark ? 'Tema Claro' : 'Tema Oscuro' }}</p>
      </li>
      <li (click)="logout()" routerLink="/auth" class="text-red-400 flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold hover:bg-gray-100 hover:text-primary-500 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:text-primary-500">
        <ng-icon name="matLogOutOutline" class="text-xl text-red-400 dark:text-red-400"></ng-icon>
        <p class="text-red-400 ml-1">
           Cerrar Sesión
        </p>
      </li>
    </ul>
  </div>
</div>



<!-- <button id="dropdownDelayButton" data-dropdown-toggle="dropdownDelay" data-dropdown-delay="500" data-dropdown-trigger="click"
class="relative flex rounded-full bg-white dark:bg-slate-900 text-sm" type="button">
    <img clickOutside
    (clickOutside)="isMenuOpen = false"
    class="w-10 rounded-md"
    src="assets/images/profile.png"
    alt="" />
  </button>
  <div id="dropdownDelay" class="z-10 hidden bg-white rounded-lg shadow w-60 p-2 dark:bg-slate-900 border dark:border-slate-800">

      <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDelayButton">

        <li>
          <div class="flext-row flex items-center px-4 pb-4">
            <div class="w-10 shrink-0">
              <img class="rounded-md" src="assets/images/profile.png" alt="profile.png" />
            </div>
            <div class="overflow-hidden px-2 text-sm font-semibold text-gray-700 dark:text-slate-50">
              {{ user.role === 'ROLE_USER' ? 'Vendedor' : 'Administrador' }} <br>
              {{ user.sub }}
              <p class="truncate text-ellipsis text-xs font-semibold text-gray-400 dark:text-slate-300">{{ user.email }}</p>
            </div>
          </div>
        </li>
        <div class="border-b border-dashed border-gray-200 dark:border-slate-500"></div>

        <li (click)="navigateToProfile()" class="flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-primary-500 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:text-primary-500">
        <ng-icon name="matPerson2Outline" class="text-xl" [ngClass]="{'text-slate-500': !themeService.isDark}"></ng-icon>
        <p class="ml-1">
           Mi Perfil
        </p>
      </li>

      <li (click)="toggleTheme()" class="flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-primary-500 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:text-primary-500">
        <ng-icon name="{{ themeService.isDark ? 'matLightModeRound' : 'matDarkModeRound' }}" class="text-xl" [ngClass]="{'text-yellow-500': themeService.isDark, 'text-slate-500': !themeService.isDark}"></ng-icon>
        <p class="ml-1">{{ themeService.isDark ? 'Tema Claro' : 'Tema Oscuro' }}</p>
      </li>

      <li (click)="logout()" routerLink="/auth" class="text-red-400 flex cursor-pointer rounded-md px-3 py-2 text-sm font-semibold hover:bg-gray-100 hover:text-primary-500 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:text-primary-500">
        <ng-icon name="matLogOutOutline" class="text-xl text-red-400 dark:text-red-400"></ng-icon>
        <p class="text-red-400 ml-1">
           Cerrar Sesión
        </p>
      </li>

      </ul>
  </div> -->
